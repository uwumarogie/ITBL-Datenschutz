import {
  containCapitalLetters,
  containDigits,
  containLowerCaseLetters,
  containSpecialCharacters,
  containUmlaut,
  difficultToGuess,
  getColor,
  SUCCESS_COLOR,
} from "@/util/passwort-validation";

export function InputValidation({ input = "" }: { input: string }) {
  const validations = [
    { check: containLowerCaseLetters, label: "Kleinbuchstaben" },
    { check: containCapitalLetters, label: "Großbuchstaben" },
    { check: containDigits, label: "Zahlen" },
    { check: containSpecialCharacters, label: "Sonderzeichen (z.B. !§$%&)" },
    { check: containUmlaut, label: "Umlaute (z.B. äöüÄÖÜ)" },
    { check: difficultToGuess, label: "Passwort schwer zu erraten" },
  ];

  return (
    <div className="flex flex-col items-start space-y-2 lg:space-y-4 w-72">
      {validations.map(({ check, label }) => (
        <div key={label} className="flex flex-row items-center space-x-2">
          <Indicator color={getColor(check(input))} />
          <span className="text-sm sm:text-base text-black">{label}</span>
        </div>
      ))}
    </div>
  );
}

function Indicator({ color }: { color: string }) {
  console.log(color);
  if (color === SUCCESS_COLOR) {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-8 w-8"
        viewBox="0 0 33 32"
        fill="none"
      >
        <path
          d="M16.9336 3C14.3624 3 11.849 3.76244 9.71119 5.1909C7.57335 6.61935 5.9071 8.64968 4.92317 11.0251C3.93923 13.4006 3.68178 16.0144 4.18339 18.5362C4.685 21.0579 5.92313 23.3743 7.74121 25.1924C9.55929 27.0105 11.8757 28.2486 14.3974 28.7502C16.9192 29.2518 19.533 28.9944 21.9085 28.0104C24.2839 27.0265 26.3142 25.3603 27.7427 23.2224C29.1712 21.0846 29.9336 18.5712 29.9336 16C29.93 12.5533 28.5592 9.24882 26.122 6.81163C23.6848 4.37445 20.3803 3.00364 16.9336 3ZM22.6411 13.7075L15.6411 20.7075C15.5482 20.8005 15.4379 20.8742 15.3165 20.9246C15.1951 20.9749 15.065 21.0008 14.9336 21.0008C14.8022 21.0008 14.6721 20.9749 14.5507 20.9246C14.4293 20.8742 14.319 20.8005 14.2261 20.7075L11.2261 17.7075C11.0385 17.5199 10.933 17.2654 10.933 17C10.933 16.7346 11.0385 16.4801 11.2261 16.2925C11.4137 16.1049 11.6682 15.9994 11.9336 15.9994C12.199 15.9994 12.4535 16.1049 12.6411 16.2925L14.9336 18.5863L21.2261 12.2925C21.319 12.1996 21.4293 12.1259 21.5507 12.0756C21.6721 12.0253 21.8022 11.9994 21.9336 11.9994C22.065 11.9994 22.1951 12.0253 22.3165 12.0756C22.4379 12.1259 22.5482 12.1996 22.6411 12.2925C22.734 12.3854 22.8077 12.4957 22.858 12.6171C22.9083 12.7385 22.9342 12.8686 22.9342 13C22.9342 13.1314 22.9083 13.2615 22.858 13.3829C22.8077 13.5043 22.734 13.6146 22.6411 13.7075Z"
          fill="#2E8B57"
        />
      </svg>
    );
  } else {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-8 w-8"
        viewBox="0 0 32 32"
      >
        <path
          d="M16.9336 3C14.3624 3 11.849 3.76244 9.71119 5.1909C7.57335 6.61935 5.9071 8.64968 4.92317 11.0251C3.93923 13.4006 3.68178 16.0144 4.18339 18.5362C4.685 21.0579 5.92313 23.3743 7.74121 25.1924C9.55929 27.0105 11.8757 28.2486 14.3974 28.7502C16.9192 29.2518 19.533 28.9944 21.9085 28.0104C24.2839 27.0265 26.3142 25.3603 27.7427 23.2224C29.1712 21.0846 29.9336 18.5712 29.9336 16C29.93 12.5533 28.5592 9.24882 26.122 6.81163C23.6848 4.37445 20.3803 3.00364 16.9336 3ZM21.6411 19.2925C21.734 19.3854 21.8077 19.4957 21.858 19.6171C21.9083 19.7385 21.9342 19.8686 21.9342 20C21.9342 20.1314 21.9083 20.2615 21.858 20.3829C21.8077 20.5043 21.734 20.6146 21.6411 20.7075C21.5482 20.8004 21.4379 20.8741 21.3165 20.9244C21.1951 20.9747 21.065 21.0006 20.9336 21.0006C20.8022 21.0006 20.6721 20.9747 20.5507 20.9244C20.4293 20.8741 20.319 20.8004 20.2261 20.7075L16.9336 17.4137L13.6411 20.7075C13.5482 20.8004 13.4379 20.8741 13.3165 20.9244C13.1951 20.9747 13.065 21.0006 12.9336 21.0006C12.8022 21.0006 12.6721 20.9747 12.5507 20.9244C12.4293 20.8741 12.319 20.8004 12.2261 20.7075C12.1332 20.6146 12.0595 20.5043 12.0092 20.3829C11.9589 20.2615 11.933 20.1314 11.933 20C11.933 19.8686 11.9589 19.7385 12.0092 19.6171C12.0595 19.4957 12.1332 19.3854 12.2261 19.2925L15.5198 16L12.2261 12.7075C12.0385 12.5199 11.933 12.2654 11.933 12C11.933 11.7346 12.0385 11.4801 12.2261 11.2925C12.4137 11.1049 12.6682 10.9994 12.9336 10.9994C13.199 10.9994 13.4535 11.1049 13.6411 11.2925L16.9336 14.5863L20.2261 11.2925C20.319 11.1996 20.4293 11.1259 20.5507 11.0756C20.6721 11.0253 20.8022 10.9994 20.9336 10.9994C21.065 10.9994 21.1951 11.0253 21.3165 11.0756C21.4379 11.1259 21.5482 11.1996 21.6411 11.2925C21.734 11.3854 21.8077 11.4957 21.858 11.6171C21.9083 11.7385 21.9342 11.8686 21.9342 12C21.9342 12.1314 21.9083 12.2615 21.858 12.3829C21.8077 12.5043 21.734 12.6146 21.6411 12.7075L18.3473 16L21.6411 19.2925Z"
          fill={color}
        />
      </svg>
    );
  }
}
