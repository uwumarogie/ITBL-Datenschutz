import { CSSProperties } from "react";
import "./robot.css";

export type RobotExpression = "smiling" | "resting" | "angry" | "sad";

export type RobotProps = {
  expression?: RobotExpression | undefined;
  headRotation?: number | undefined;
};

export default function Robot({
  expression,
  headRotation,
  className,
  onClick,
  style,
}: RobotProps & {
  className?: string | undefined;
  onClick?: () => void;
  style?: CSSProperties | undefined;
}) {
  const transitionTimingFunction = "cubic-bezier(0.34, 2, 0.64, 0.88)";
  const headStyle = {
    rotate: `${8 * (headRotation ?? 0)}deg`,
    transformOrigin: "center",
    transition: "rotate 300ms",
    transitionTimingFunction,
    animation: "hover 6s infinite 2s",
  };
  const bodyStyle = {
    rotate: `${4 * (headRotation ?? 0)}deg`,
    transformOrigin: "center",
    transition: "rotate 300ms",
    transitionDelay: "60ms",
    transitionTimingFunction,
    animation: "hover 6s infinite 1s",
  };
  const beamStyle = {
    rotate: `${2 * (headRotation ?? 0)}deg`,
    transformOrigin: "center",
    transition: "rotate 300ms",
    transitionDelay: "100ms",
    transitionTimingFunction: "cubic-bezier(0.34, 5, 0.64, 0.8)",
    animation: "hover 6s infinite",
  };
  return (
    <svg
      width="142"
      height="134"
      viewBox="0 0 142 134"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      overflow="visible"
      className={className}
      style={{ animation: "hover-lg 5s infinite", ...style }}
      onClick={onClick}
    >
      <g style={headStyle} id="head">
        <path
          d="M1.35892 45.248C1.42971 43.3721 2.88968 41.8443 4.7604 41.6884C5.69685 41.6103 6.5 42.3493 6.5 43.289V64.566C6.5 66.1864 5.18641 67.5 3.56601 67.5C1.90223 67.5 0.571376 66.118 0.634115 64.4554L1.35892 45.248Z"
          fill="#D7F6FF"
          stroke="black"
        />
        <path
          d="M3 52C3 28.804 21.804 10 45 10H97C120.196 10 139 28.804 139 52V67.6671C139 74.7165 133.745 80.6828 126.742 81.487C84.9257 86.2889 57.0918 86.4193 16.0626 81.6286C8.58674 80.7557 3 74.374 3 66.8474V52Z"
          fill="black"
        />
        <path
          d="M3.75 52C3.75 29.2183 22.2183 10.75 45 10.75H97C119.782 10.75 138.25 29.2183 138.25 52V67.6671C138.25 74.3403 133.276 79.9817 126.656 80.7419C84.8945 85.5375 57.1186 85.6673 16.1495 80.8837C9.05827 80.0557 3.75 74 3.75 66.8474V52Z"
          stroke="black"
          strokeWidth="1.5"
        />
        <path
          d="M3 52C3 28.804 21.804 10 45 10H97C120.196 10 139 28.804 139 52V64.8491C139 73.0162 132.031 79.4379 123.883 78.8778C85.1713 76.2167 58.0886 76.192 19.1907 78.8142C10.4645 79.4024 3 72.5249 3 63.7789V52Z"
          fill="#DBF5FD"
        />
        <path
          d="M3.75 52C3.75 29.2183 22.2183 10.75 45 10.75H97C119.782 10.75 138.25 29.2183 138.25 52V64.8491C138.25 72.5757 131.655 78.6603 123.934 78.1295C85.1888 75.4661 58.0721 75.4414 19.1403 78.0659C10.8404 78.6254 3.75 72.0842 3.75 63.7789V52Z"
          stroke="black"
          strokeWidth="1.5"
        />
        <rect
          x="22.75"
          y="27.75"
          width="93.5"
          height="29.5"
          rx="6.25"
          fill="white"
          stroke="black"
          strokeWidth="1.5"
        />
        <g id="eyes" className={expression}>
          <path
            stroke="black"
            strokeWidth="2"
            strokeLinecap="round"
            id="eye-left"
          />
          <path
            stroke="black"
            strokeWidth="2"
            strokeLinecap="round"
            id="eye-right"
          />
        </g>
        <path
          d="M133.5 44.0891C133.5 42.7243 134.672 41.6541 136.031 41.7776C137.177 41.8818 138.073 42.8094 138.138 43.9579L139.297 64.435C139.392 66.099 138.068 67.5 136.401 67.5C134.799 67.5 133.5 66.2012 133.5 64.599V44.0891Z"
          fill="#DBF5FD"
          stroke="black"
        />
        <path
          d="M136.5 45.3266C136.5 44.3178 137.318 43.5 138.327 43.5C139.287 43.5 140.084 44.244 140.149 45.2024L141.29 61.939C141.385 63.3243 140.286 64.5 138.898 64.5C137.574 64.5 136.5 63.4264 136.5 62.1022V45.3266Z"
          fill="#C2F1FF"
          stroke="black"
        />
        <path
          d="M63.5 10C63.5 8.61929 64.6193 7.5 66 7.5H78C79.3807 7.5 80.5 8.61929 80.5 10V10.5H63.5V10Z"
          fill="#B0E0EF"
          stroke="black"
        />
        <path d="M72 7.5V1" stroke="black" strokeLinecap="round" />
      </g>
      <g style={beamStyle}>
        <path
          d="M124.5 115C124.5 115.494 124.232 116.043 123.567 116.645C122.905 117.245 121.898 117.847 120.556 118.434C117.875 119.608 113.964 120.677 109.093 121.579C99.3588 123.382 85.8908 124.5 71 124.5C56.1092 124.5 42.6412 123.382 32.9073 121.579C28.0362 120.677 24.1254 119.608 21.4441 118.434C20.1017 117.847 19.0955 117.245 18.4326 116.645C17.7683 116.043 17.5 115.494 17.5 115C17.5 114.506 17.7683 113.957 18.4326 113.355C19.0955 112.755 20.1017 112.153 21.4441 111.566C24.1254 110.392 28.0362 109.323 32.9073 108.421C42.6412 106.618 56.1092 105.5 71 105.5C85.8908 105.5 99.3588 106.618 109.093 108.421C113.964 109.323 117.875 110.392 120.556 111.566C121.898 112.153 122.905 112.755 123.567 113.355C124.232 113.957 124.5 114.506 124.5 115Z"
          stroke="#FFCE4F"
        />
        <path
          d="M110.5 123C110.5 123.275 110.342 123.621 109.862 124.031C109.386 124.438 108.655 124.853 107.665 125.263C105.691 126.08 102.803 126.826 99.1981 127.457C91.9957 128.718 82.026 129.5 71 129.5C59.974 129.5 50.0043 128.718 42.8019 127.457C39.1967 126.826 36.3092 126.08 34.3346 125.263C33.3451 124.853 32.6135 124.438 32.1376 124.031C31.658 123.621 31.5 123.275 31.5 123C31.5 122.725 31.658 122.379 32.1376 121.969C32.6135 121.562 33.3451 121.147 34.3346 120.737C36.3092 119.92 39.1967 119.174 42.8019 118.543C50.0043 117.282 59.974 116.5 71 116.5C82.026 116.5 91.9957 117.282 99.1981 118.543C102.803 119.174 105.691 119.92 107.665 120.737C108.655 121.147 109.386 121.562 109.862 121.969C110.342 122.379 110.5 122.725 110.5 123Z"
          stroke="#FFCE4F"
        />
        <path
          d="M92.5 130C92.5 130.076 92.4594 130.22 92.2209 130.432C91.9845 130.642 91.6069 130.868 91.0737 131.098C90.0111 131.554 88.4428 131.977 86.4669 132.336C82.5232 133.054 77.0546 133.5 71 133.5C64.9454 133.5 59.4768 133.054 55.5331 132.336C53.5572 131.977 51.9889 131.554 50.9263 131.098C50.3931 130.868 50.0155 130.642 49.7791 130.432C49.5406 130.22 49.5 130.076 49.5 130C49.5 129.924 49.5406 129.78 49.7791 129.568C50.0155 129.358 50.3931 129.132 50.9263 128.902C51.9889 128.446 53.5572 128.023 55.5331 127.664C59.4768 126.946 64.9454 126.5 71 126.5C77.0546 126.5 82.5232 126.946 86.4669 127.664C88.4428 128.023 90.0111 128.446 91.0737 128.902C91.6069 129.132 91.9845 129.358 92.2209 129.568C92.4594 129.78 92.5 129.924 92.5 130Z"
          stroke="#FFCE4F"
        />
      </g>
      <g style={bodyStyle}>
        <path
          d="M42.75 106.4C42.75 104.936 43.9364 103.75 45.4 103.75H94.6C96.0636 103.75 97.25 104.936 97.25 106.4C97.25 113.497 91.4969 119.25 84.4 119.25H55.6C48.5031 119.25 42.75 113.497 42.75 106.4Z"
          fill="#A4D5E4"
          stroke="black"
          strokeWidth="1.5"
        />
        <path
          d="M29.75 95.6C29.75 93.4737 31.4737 91.75 33.6 91.75H106.4C108.526 91.75 110.25 93.4737 110.25 95.6C110.25 105.348 102.348 113.25 92.6 113.25H47.4C37.6522 113.25 29.75 105.348 29.75 95.6Z"
          fill="#B2EDFF"
          stroke="black"
          strokeWidth="1.5"
        />
        <path
          d="M19.75 91.314C19.75 89.4458 21.3654 87.9784 23.2333 88.1491C59.6758 91.4794 81.5599 91.4165 116.763 88.1551C118.632 87.9819 120.25 89.4495 120.25 91.3185C120.25 99.5649 113.565 106.25 105.318 106.25H34.686C26.4371 106.25 19.75 99.5629 19.75 91.314Z"
          fill="#DBF5FD"
          stroke="black"
          strokeWidth="1.5"
        />
        <circle cx="105.5" cy="93.5" r="0.5" fill="black" />
        <path d="M102 93.5H91" stroke="black" strokeLinecap="round" />
      </g>
    </svg>
  );
}
